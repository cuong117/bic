{"c9d786a4fe2639581047d878a64bab6fb24f1ab3":{"changes":{"src\/changes\/changes.xml":"MODIFY","src\/main\/java\/org\/apache\/commons\/lang3\/RandomStringUtils.java":"MODIFY","src\/test\/java\/org\/apache\/commons\/lang3\/RandomStringUtilsTest.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["24","    <action issue=\"LANG-805\" type=\"fix\">RandomStringUtils.random(count, 0, 0, false, false, universe, random) always throws java.lang.ArrayIndexOutOfBoundsException<\/action>"],"delete":[]}],"src\/main\/java\/org\/apache\/commons\/lang3\/RandomStringUtils.java":[{"add":["213","     * @param chars  the set of chars to choose randoms from, must not be empty.","219","     * @throws IllegalArgumentException if {@code count} &lt; 0 or the provided chars array is empty.","229","        if (chars != null && chars.length == 0) {","230","            throw new IllegalArgumentException(\"The chars array must not be empty\");","231","        }","232","","234","            if (chars != null) {","235","                end = chars.length;","236","            } else {","237","                if (!letters && !numbers) {","238","                    end = Integer.MAX_VALUE;","239","                } else {","240","                    end = 'z' + 1;","241","                    start = ' ';                ","242","                }","295","     * specified by the string, must not be empty. ","296","     * If null, the set of all characters is used.<\/p>","300","     *  may be null, but must not be empty","302","     * @throws IllegalArgumentException if {@code count} &lt; 0 or the string is empty."],"delete":["213","     * @param chars  the set of chars to choose randoms from.","219","     * @throws IllegalArgumentException if {@code count} &lt; 0.","230","            end = 'z' + 1;","231","            start = ' ';","232","            if (!letters && !numbers) {","233","                start = 0;","234","                end = Integer.MAX_VALUE;","287","     * specified.<\/p>","291","     *  may be null","293","     * @throws IllegalArgumentException if {@code count} &lt; 0."]}],"src\/test\/java\/org\/apache\/commons\/lang3\/RandomStringUtilsTest.java":[{"add":["126","","127","    public void testLANG805() {","128","        long seed = System.currentTimeMillis();","129","        assertEquals(\"aaa\", RandomStringUtils.random(3,0,0,false,false,new char[]{'a'},new Random(seed)));","130","    }","131","","133","        final char[] DUMMY = new char[]{'a'}; \/\/ valid char array","143","            RandomStringUtils.random(-1, DUMMY);","144","            fail();","145","        } catch (IllegalArgumentException ex) {}","146","        try {","147","            RandomStringUtils.random(1, new char[0]); \/\/ must not provide empty array => IAE","155","            RandomStringUtils.random(-1, (String)null);","156","            fail();","157","        } catch (IllegalArgumentException ex) {}","158","        try {","163","            RandomStringUtils.random(-1, 'a', 'z', false, false, DUMMY);","167","            RandomStringUtils.random(-1, 'a', 'z', false, false, DUMMY, new Random());"],"delete":["125","","137","            RandomStringUtils.random(-1, new char[0]);","149","            RandomStringUtils.random(-1, 'a', 'z', false, false, new char[0]);","153","            RandomStringUtils.random(-1, 'a', 'z', false, false, new char[0], new Random());"]}]}}}